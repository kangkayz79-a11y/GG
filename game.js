const c=document.getElementById('gameCanvas');const cx=c.getContext('2d');const PADDLE_W=10,PADDLE_H=100,BALL_R=8;let p1={x:0,y:c.height/2-PADDLE_H/2,w:PADDLE_W,h:PADDLE_H,score:0};let p2={x:c.width-PADDLE_W,y:c.height/2-PADDLE_H/2,w:PADDLE_W,h:PADDLE_H,score:0};let ball={x:c.width/2,y:c.height/2,vx:5,vy:5,r:BALL_R};let difficulty='medium';let paused=true;let soundEnabled=true;const DIFFICULTIES={easy:{speed:2,reaction:0.5},medium:{speed:3,reaction:1},hard:{speed:4,reaction:1.5},insane:{speed:5,reaction:2}};function draw(){cx.fillStyle='#0a0a0a';cx.fillRect(0,0,c.width,c.height);cx.fillStyle='#0ff';cx.fillRect(p1.x,p1.y,p1.w,p1.h);cx.fillRect(p2.x,p2.y,p2.w,p2.h);cx.beginPath();cx.arc(ball.x,ball.y,ball.r,0,Math.PI*2);cx.fill();cx.strokeStyle='#0ff';cx.setLineDash([5,5]);cx.moveTo(c.width/2,0);cx.lineTo(c.width/2,c.height);cx.stroke();cx.setLineDash([]);document.getElementById('pScore').textContent=p1.score;document.getElementById('aScore').textContent=p2.score;}function update(){if(paused)return;ball.x+=ball.vx;ball.y+=ball.vy;if(ball.y-ball.r<0||ball.y+ball.r>c.height){ball.vy=-ball.vy;if(ball.y-ball.r<0)ball.y=ball.r;if(ball.y+ball.r>c.height)ball.y=c.height-ball.r;}if(ball.x-ball.r<p1.x+p1.w&&ball.y>p1.y&&ball.y<p1.y+p1.h){ball.vx=-ball.vx;ball.x=p1.x+p1.w+ball.r;}if(ball.x+ball.r>p2.x&&ball.y>p2.y&&ball.y<p2.y+p2.h){ball.vx=-ball.vx;ball.x=p2.x-ball.r;}if(ball.x<0){p2.score++;resetBall();}if(ball.x>c.width){p1.score++;resetBall();}aiMove();}function aiMove(){const diff=DIFFICULTIES[difficulty];const target=ball.y;const center=p2.y+PADDLE_H/2;const speed=diff.speed;if(target<center-5){p2.y=Math.max(0,p2.y-speed);}else if(target>center+5){p2.y=Math.min(c.height-PADDLE_H,p2.y+speed);}}function resetBall(){ball.x=c.width/2;ball.y=c.height/2;const speed=DIFFICULTIES[difficulty].speed+4;ball.vx=(Math.random()>0.5?1:-1)*speed;ball.vy=(Math.random()>0.5?1:-1)*speed;}document.addEventListener('keydown',e=>{if(e.key==='ArrowUp')p1.y=Math.max(0,p1.y-8);if(e.key==='ArrowDown')p1.y=Math.min(c.height-PADDLE_H,p1.y+8);if(e.key===' ')paused=!paused;});document.getElementById('startBtn').onclick=()=>{paused=false;resetBall();document.getElementById('status').textContent='GAME STARTED! Use Arrow Keys to move.'};document.getElementById('pauseBtn').onclick=()=>{paused=true;document.getElementById('status').textContent='PAUSED';};document.getElementById('resumeBtn').onclick=()=>{paused=false;document.getElementById('status').textContent='GAME RESUMED!';};document.getElementById('restartBtn').onclick=()=>{p1.score=0;p2.score=0;resetBall();paused=true;document.getElementById('status').textContent='Game Restarted!';};document.getElementById('soundBtn').onclick=()=>{soundEnabled=!soundEnabled;document.getElementById('soundBtn').textContent=soundEnabled?'ðŸ”Š SOUND ON':'ðŸ”‡ SOUND OFF';};document.getElementById('difficulty').onchange=e=>{difficulty=e.target.value;document.getElementById('status').textContent='Difficulty changed to '+difficulty;};function gameLoop(){draw();update();requestAnimationFrame(gameLoop);}gameLoop();